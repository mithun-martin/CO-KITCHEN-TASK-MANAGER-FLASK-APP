<!-- templates/update.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Update Task</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
    body { background: #121212; font-family: 'Poppins', sans-serif; color: #f1f1f1; }
    .card { background: #1e1e1e; border-radius: 15px; padding: 2rem; margin-top: 3rem; }
    label { color: #f1c40f; }
    .form-control { background-color: #333; color: #fff; border-radius: 8px; border: 1px solid #555; }
    .btn { border-radius: 10px; }
    h2 { color: #f1c40f; }
  </style>
</head>
<body>
  <div class="container">
    <div class="card">
      <h2>Update Task</h2>
      <form action="/update/{{ todo.sno }}" method="POST">
        
        <!-- Branch Issue -->
        <div class="form-group">
          <label>Branch Issue</label>
          <select name="branch_issues" class="form-control" required>
            {% for issue in Branche_issues %}
              <option value="{{ issue.value }}" {% if todo.branch_issues.value == issue.value %}selected{% endif %}>{{ issue.value }}</option>
            {% endfor %}
          </select>
        </div>

        <!-- Description -->
        <div class="form-group mt-3">
          <label>Description</label>
          <input type="text" name="desc" class="form-control" value="{{ todo.desc }}" required>
        </div>

        <!-- Status -->
        <div class="form-group mt-3">
          <label>Status</label>
          <select name="status" class="form-control">
            {% for status in ["Done", "To prioritize", "On-going", "Daily Reminder"] %}
              <option value="{{ status }}" {% if todo.status == status %}selected{% endif %}>{{ status }}</option>
            {% endfor %}
          </select>
        </div>

        <!-- Branch -->
        <div class="form-group mt-3">
          <label>Branch</label>
          <select name="Branch" class="form-control" required>
            {% for branch in Branches %}
              <option value="{{ branch.value }}" {% if todo.branches.value == branch.value %}selected{% endif %}>{{ branch.value }}</option>
            {% endfor %}
          </select>
        </div>

        <!-- Department -->
        <div class="form-group mt-3">
          <label>Department</label>
          <select name="department" class="form-control" required>
            {% for dept in ["Operations", "Maintenance"] %}
              <option value="{{ dept }}" {% if todo.department == dept %}selected{% endif %}>{{ dept }}</option>
            {% endfor %}
          </select>
        </div>

        <!-- Remarks -->
        <div class="form-group mt-3">
          <label>Remarks (optional)</label>
          <input type="text" name="remarks" class="form-control" value="{{ todo.remarks or '' }}">
        </div>

        <button type="submit" class="btn btn-warning mt-4">Update Task</button>
        <a href="/" class="btn btn-secondary mt-4 ml-2">Cancel</a>
      </form>
    </div>
  </div>
</body>
</html>

